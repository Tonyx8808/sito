<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WORKHUB ‚Äì Piano Personalizzato</title>
  <link rel="stylesheet" href="form.css" />
</head>
<body>
  <main class="form-wrapper">
    <section class="form-section">
      <h1>Richiedi un piano personalizzato</h1>
      <p class="subtitle">Compila il modulo e ti contatteremo per creare il piano perfetto per te.</p>

      <form id="personalizedPlanForm">
        <input type="text" name="nome" placeholder="Nome" required />
        <input type="text" name="cognome" placeholder="Cognome" required />
        <input type="email" name="email" placeholder="Email" required />
        <input type="tel" name="telefono" placeholder="Telefono" required />
        <textarea name="messaggio" placeholder="Descrivi le tue esigenze..." rows="5" required></textarea>
        <button type="submit" class="submit-btn">Invia richiesta</button>
      </form>
    </section>

    <div id="toast">‚úÖ Richiesta inviata con successo</div>

    <div id="return-home">
      <a href="./index.html#fromForm" class="cta-button">üè† Torna alla Home</a>
    </div>
  </main>

  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const form = document.getElementById("personalizedPlanForm");
    const toast = document.getElementById("toast");
    const returnHome = document.getElementById("return-home");

    form.addEventListener("submit", (e) => {
      e.preventDefault();

      const nome = form.nome.value;
      const cognome = form.cognome.value;
      const email = form.email.value;
      const telefono = form.telefono.value;
      const messaggio = form.messaggio.value;

      const destinatario = "antoniorusso1988@outlook.it";

      const corpo = `
Richiesta da: ${nome} ${cognome}
Email: ${email}
Telefono: ${telefono}

Messaggio:
${messaggio}
      `;

      const mailtoLink = `mailto:${destinatario}?subject=Richiesta piano personalizzato&body=${encodeURIComponent(corpo)}`;

      window.location.href = mailtoLink;

      toast.classList.add("show");
      setTimeout(() => {
        toast.classList.remove("show");
        returnHome.classList.add("show");
      }, 3000);
    });
  });
</script>

</body>
</html>
